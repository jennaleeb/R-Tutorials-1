<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      R &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/R-Tutorials-1/public/css/poole.css">
  <link rel="stylesheet" href="/R-Tutorials-1/public/css/syntax.css">
  <link rel="stylesheet" href="/R-Tutorials-1/public/css/hyde.css">
  <link rel="stylesheet" href="/R-Tutorials-1/public/css/custom.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/R-Tutorials-1public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/R-Tutorials-1public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  
  <!-- Mathjax -->
  <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    
    <!--Disqus comment counts-->
    <script id="dsq-count-scr" src="//MIE1402.disqus.com/count.js" async></script>
    
</head>


  <body class="theme-base-0b">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/R-Tutorials-1">
          R
        </a>
      </h1>
      <p class="lead">Content for MIE 1402 tutorials</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/R-Tutorials-1">Home</a>

      

      
      
        
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/R-Tutorials-1/about.html">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/R-Tutorials-1/archive.html">Archives</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="/R-Tutorials-1/categories.html">Categories</a>
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="https://github.com/jennaleeb/R-Tutorials-1">GitHub project</a>
    </nav>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/R-Tutorials-1//2016/09/27/tutorial-3-feature-segment.html">
        Tutorial 3 - Feature Extraction and Segmentation
      </a>
    </h1>
    
<a href="/R-Tutorials-1/2016/09/27/tutorial-3-feature-segment.html#disqus_thread"
    class = "commentcount"></a>
    
    <span class="post-date">27 Sep 2016</span>

    <h2 id="feature-extraction-and-segmentation">Feature Extraction and Segmentation</h2>

<p><strong>Jenna Blumenthal</strong><br />
   Tutorial #: 3<br />
   MIE 1402</p>

<hr />

<h2 id="exploratory-factor-analysis">Exploratory factor analysis</h2>

<ul>
  <li>We’ll use the iris data again</li>
  <li>Simple dataset, usually you would use this technique for data that has many variables that you would like to condense or explore relationships</li>
</ul>

<style type="text/css">
table { width: 90%; font-size: 24}
</style>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Sepal.Length</th>
      <th style="text-align: center">Sepal.Width</th>
      <th style="text-align: center">Petal.Length</th>
      <th style="text-align: center">Petal.Width</th>
      <th style="text-align: center">Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">5.1</td>
      <td style="text-align: center">3.5</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.9</td>
      <td style="text-align: center">3.0</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.7</td>
      <td style="text-align: center">3.2</td>
      <td style="text-align: center">1.3</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.6</td>
      <td style="text-align: center">3.1</td>
      <td style="text-align: center">1.5</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">5.0</td>
      <td style="text-align: center">3.6</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">5.4</td>
      <td style="text-align: center">3.9</td>
      <td style="text-align: center">1.7</td>
      <td style="text-align: center">0.4</td>
      <td style="text-align: center">setosa</td>
    </tr>
  </tbody>
</table>

<hr />

<h3 id="extract-the-same-number-of-factors-as-variables">1. Extract the same number of factors as variables</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pc1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">principal</span><span class="p">(</span><span class="n">iris</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">],</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">
</span><span class="n">pc1</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Principal Components Analysis
## Call: principal(r = iris[1:4], nfactors = 4)
## Standardized loadings (pattern matrix) based upon correlation matrix
##                RC1   RC3   RC2   RC4 h2       u2 com
## Sepal.Length  0.53  0.85  0.00  0.00  1  1.1e-16 1.7
## Sepal.Width  -0.17 -0.04  0.98 -0.01  1  4.4e-16 1.1
## Petal.Length  0.78  0.54 -0.28  0.14  1 -4.4e-16 2.2
## Petal.Width   0.89  0.41 -0.20 -0.06  1  0.0e+00 1.5
## 
##                        RC1  RC3  RC2  RC4
## SS loadings           1.71 1.18 1.09 0.02
## Proportion Var        0.43 0.30 0.27 0.01
## Cumulative Var        0.43 0.72 0.99 1.00
## Proportion Explained  0.43 0.30 0.27 0.01
## Cumulative Proportion 0.43 0.72 0.99 1.00
## 
## Mean item complexity =  1.6
## Test of the hypothesis that 4 components are sufficient.
## 
## The root mean square of the residuals (RMSR) is  0 
##  with the empirical chi square  0  with prob &lt;  NA 
## 
## Fit based upon off diagonal values = 1</code></pre></figure>

<hr />

<h3 id="examine-scree-plot">2. Examine scree plot</h3>
<ul>
  <li>Eigenvalues plotted against the factor number</li>
  <li>Look for point of inflection (“elbow”)</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">pc1</span><span class="o">$</span><span class="n">values</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"b"</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-3-feature-segment/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4" /></p>

<hr />

<h3 id="choose-number-of-factors-to-extract">3. Choose number of factors to extract</h3>

<ul>
  <li>Look at eigenvalues (Kaiser’s criterion &gt; 1, Jolliffe’s criterion &gt; 0.7)</li>
  <li>Examine scree plot</li>
  <li>May be theoretical</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pc2</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">principal</span><span class="p">(</span><span class="n">iris</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">],</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">
</span><span class="n">pc2</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Principal Components Analysis
## Call: principal(r = iris[1:4], nfactors = 2)
## Standardized loadings (pattern matrix) based upon correlation matrix
##                RC1   RC2   h2     u2 com
## Sepal.Length  0.96  0.05 0.92 0.0774 1.0
## Sepal.Width  -0.14  0.98 0.99 0.0091 1.0
## Petal.Length  0.94 -0.30 0.98 0.0163 1.2
## Petal.Width   0.93 -0.26 0.94 0.0647 1.2
## 
##                        RC1  RC2
## SS loadings           2.70 1.13
## Proportion Var        0.68 0.28
## Cumulative Var        0.68 0.96
## Proportion Explained  0.71 0.29
## Cumulative Proportion 0.71 1.00
## 
## Mean item complexity =  1.1
## Test of the hypothesis that 2 components are sufficient.
## 
## The root mean square of the residuals (RMSR) is  0.03 
##  with the empirical chi square  1.72  with prob &lt;  NA 
## 
## Fit based upon off diagonal values = 1</code></pre></figure>

<hr />

<h3 id="decide-whether-to-use-rotation">4. Decide whether to use rotation</h3>

<ul>
  <li>Orthogonal or oblique</li>
  <li>Does it make sense theoretically?</li>
  <li>Does it improve things?</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pc3</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">principal</span><span class="p">(</span><span class="n">iris</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="p">],</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">rotate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"oblimin"</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Loading required namespace: GPArotation</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pc3</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Principal Components Analysis
## Call: principal(r = iris[1:4], nfactors = 2, rotate = "oblimin")
## Standardized loadings (pattern matrix) based upon correlation matrix
##                TC1   TC2   h2     u2 com
## Sepal.Length  1.00  0.20 0.92 0.0774 1.1
## Sepal.Width  -0.02  0.99 0.99 0.0091 1.0
## Petal.Length  0.94 -0.16 0.98 0.0163 1.1
## Petal.Width   0.93 -0.11 0.94 0.0647 1.0
## 
##                        TC1  TC2
## SS loadings           2.75 1.08
## Proportion Var        0.69 0.27
## Cumulative Var        0.69 0.96
## Proportion Explained  0.72 0.28
## Cumulative Proportion 0.72 1.00
## 
##  With component correlations of 
##       TC1   TC2
## TC1  1.00 -0.27
## TC2 -0.27  1.00
## 
## Mean item complexity =  1
## Test of the hypothesis that 2 components are sufficient.
## 
## The root mean square of the residuals (RMSR) is  0.03 
##  with the empirical chi square  1.72  with prob &lt;  NA 
## 
## Fit based upon off diagonal values = 1</code></pre></figure>

<hr />

<h2 id="segmentation-cluster-analysis">Segmentation: Cluster Analysis</h2>

<ul>
  <li>Unsupervised learning algorithm that tries to cluster data based on their similarity</li>
  <li>Again, we’ll use the iris data</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">Petal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Species</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-3-feature-segment/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /></p>

<hr />

<h2 id="clustering-in-r">Clustering in R</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">set.seed</span><span class="p">(</span><span class="m">20</span><span class="p">)</span><span class="w">
</span><span class="n">irisCluster</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">kmeans</span><span class="p">(</span><span class="n">iris</span><span class="p">[,</span><span class="w"> </span><span class="m">3</span><span class="o">:</span><span class="m">4</span><span class="p">],</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nstart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">20</span><span class="p">)</span><span class="w">
</span><span class="n">irisCluster</span><span class="o">$</span><span class="n">centers</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##   Petal.Length Petal.Width
## 1     1.462000    0.246000
## 2     4.269231    1.342308
## 3     5.595833    2.037500</code></pre></figure>

<ul>
  <li>nstart is the number of random starting assignments</li>
  <li>R then selects the one the with lowest within-cluster variation</li>
  <li>we use the set.seed() function to ensure that we get the same randon value when we re-run the code</li>
</ul>

<p>— &amp;two-col</p>

<p>***{name: left}</p>

<p>Cluster assignments vs actual species</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">setosa</th>
      <th style="text-align: right">versicolor</th>
      <th style="text-align: right">virginica</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">50</td>
      <td style="text-align: right">0</td>
      <td style="text-align: right">0</td>
    </tr>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: right">48</td>
      <td style="text-align: right">4</td>
    </tr>
    <tr>
      <td style="text-align: right">0</td>
      <td style="text-align: right">2</td>
      <td style="text-align: right">46</td>
    </tr>
  </tbody>
</table>

<p>***{name: right}</p>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-3-feature-segment/unnamed-chunk-11-1.png" alt="plot of chunk unnamed-chunk-11" /></p>

<hr />

<h2 id="references">References</h2>

<p>Field A, Miles J, Field Z. Discovering Statistics Using R. London: Sage; 2012.</p>

<p><a href="https://www.r-bloggers.com/k-means-clustering-in-r/">https://www.r-bloggers.com/k-means-clustering-in-r/</a></p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/R-Tutorials-1//2016/09/27/tutorial-2-assumptions-cor.html">
        Tutorial 2 - Parametric assumptions and correlations
      </a>
    </h1>
    
<a href="/R-Tutorials-1/2016/09/27/tutorial-2-assumptions-cor.html#disqus_thread"
    class = "commentcount"></a>
    
    <span class="post-date">27 Sep 2016</span>

    <h2 id="parametric-assumptions--correlations">Parametric Assumptions &amp; Correlations</h2>

<p><strong>Jenna Blumenthal</strong><br />
   Tutorial #: 2<br />
   MIE 1402</p>

<hr />

<h2 id="by-now">By now…</h2>

<ul>
  <li>You have R, R Studio installed</li>
  <li>You have played around with it (imported some data, ran some commands)</li>
  <li>You have followed an example from the textbook</li>
</ul>

<hr />

<h2 id="today">Today</h2>

<ol>
  <li>Assumptions
    <ul>
      <li>basis for parametric tests</li>
      <li>normality, homogeneity of variance</li>
    </ul>
  </li>
  <li>Correlations
    <ul>
      <li>general procedure in R</li>
      <li>partial, semi-partial, non-parametric statistics</li>
    </ul>
  </li>
  <li>Assignment 1</li>
</ol>

<p>— .full-width-table</p>

<h2 id="data-we-will-be-using">Data we will be using</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">knitr</span><span class="p">)</span></code></pre></figure>

<style type="text/css">
table { width: 90%; font-size: 24}
</style>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">kable</span><span class="p">(</span><span class="n">head</span><span class="p">(</span><span class="n">iris</span><span class="p">),</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"c"</span><span class="p">)</span></code></pre></figure>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Sepal.Length</th>
      <th style="text-align: center">Sepal.Width</th>
      <th style="text-align: center">Petal.Length</th>
      <th style="text-align: center">Petal.Width</th>
      <th style="text-align: center">Species</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">5.1</td>
      <td style="text-align: center">3.5</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.9</td>
      <td style="text-align: center">3.0</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.7</td>
      <td style="text-align: center">3.2</td>
      <td style="text-align: center">1.3</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">4.6</td>
      <td style="text-align: center">3.1</td>
      <td style="text-align: center">1.5</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">5.0</td>
      <td style="text-align: center">3.6</td>
      <td style="text-align: center">1.4</td>
      <td style="text-align: center">0.2</td>
      <td style="text-align: center">setosa</td>
    </tr>
    <tr>
      <td style="text-align: center">5.4</td>
      <td style="text-align: center">3.9</td>
      <td style="text-align: center">1.7</td>
      <td style="text-align: center">0.4</td>
      <td style="text-align: center">setosa</td>
    </tr>
  </tbody>
</table>

<p>— &amp;two-col</p>

<h2 id="assumption-of-parametric-data">Assumption of parametric data</h2>
<p>Most stats we are used are parametric tests, based on the normal distribution.</p>

<p>*** {name: left}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">Sepal.Width</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">),</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3" /></p>

<p>*** {name: right}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">shapiro.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## 
## 	Shapiro-Wilk normality test
## 
## data:  iris$Sepal.Width
## W = 0.98492, p-value = 0.1012</code></pre></figure>

<p>— &amp;two-col</p>

<h3 id="step-1-visual-inspection">Step 1: Visual Inspection</h3>

<p>Normal</p>

<p>*** {name: left}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">Sepal.Width</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">),</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5" /></p>

<p>*** {name: right}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">qplot</span><span class="p">(</span><span class="n">sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-6-1.png" alt="plot of chunk unnamed-chunk-6" /></p>

<p>— &amp;two-col</p>

<h3 id="step-1-visual-inspection-1">Step 1: Visual Inspection</h3>

<p>Positive skew</p>

<p>*** {name: left}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">Petal.Width</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">),</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7" /></p>

<p>*** {name: right}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">qplot</span><span class="p">(</span><span class="n">sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8" /></p>

<p>— &amp;two-col</p>

<h3 id="step-1-visual-inspection-2">Step 1: Visual Inspection</h3>

<p>Negative kurtosis (platykurtic)</p>

<p>*** {name: left}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">Sepal.Length</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">),</span><span class="w"> </span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w"> </span><span class="n">colour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">bins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">16</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9" /></p>

<p>*** {name: right}</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">qplot</span><span class="p">(</span><span class="n">sample</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-10-1.png" alt="plot of chunk unnamed-chunk-10" /></p>

<p>— &amp;two-col</p>

<h3 id="step-2-numeric">Step 2: Numeric</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">pastecs</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-13-1.png" alt="plot of chunk unnamed-chunk-13" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">round</span><span class="p">(</span><span class="n">stat.desc</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">norm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> </span><span class="m">2</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##      nbr.val     nbr.null       nbr.na          min          max 
##       150.00         0.00         0.00         2.00         4.40 
##        range          sum       median         mean      SE.mean 
##         2.40       458.60         3.00         3.06         0.04 
## CI.mean.0.95          var      std.dev     coef.var     skewness 
##         0.07         0.19         0.44         0.14         0.31 
##     skew.2SE     kurtosis     kurt.2SE   normtest.W   normtest.p 
##         0.79         0.14         0.18         0.98         0.10</code></pre></figure>

<hr />

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-15-1.png" alt="plot of chunk unnamed-chunk-15" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="nf">round</span><span class="p">(</span><span class="n">stat.desc</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">norm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">),</span><span class="w"> </span><span class="m">2</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##      nbr.val     nbr.null       nbr.na          min          max 
##       150.00         0.00         0.00         1.00         6.90 
##        range          sum       median         mean      SE.mean 
##         5.90       563.70         4.35         3.76         0.14 
## CI.mean.0.95          var      std.dev     coef.var     skewness 
##         0.28         3.12         1.77         0.47        -0.27 
##     skew.2SE     kurtosis     kurt.2SE   normtest.W   normtest.p 
##        -0.68        -1.42        -1.80         0.88         0.00</code></pre></figure>

<hr />

<h3 id="step-3-statistical-tests">Step 3: Statistical tests</h3>

<h4 id="normal-distribution">Normal distribution</h4>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">shapiro.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Width</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## 
## 	Shapiro-Wilk normality test
## 
## data:  iris$Sepal.Width
## W = 0.98492, p-value = 0.1012</code></pre></figure>

<hr />

<h4 id="non-normal-distribution">Non-normal distribution…</h4>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">shapiro.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## 
## 	Shapiro-Wilk normality test
## 
## data:  iris$Sepal.Length
## W = 0.97609, p-value = 0.01018</code></pre></figure>

<hr />

<h4 id="unless-grouped-by-species">…Unless grouped by species</h4>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">by</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">shapiro.test</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## iris$Species: setosa
## 
## 	Shapiro-Wilk normality test
## 
## data:  dd[x, ]
## W = 0.9777, p-value = 0.4595
## 
## ---------------------------------------------------- 
## iris$Species: versicolor
## 
## 	Shapiro-Wilk normality test
## 
## data:  dd[x, ]
## W = 0.97784, p-value = 0.4647
## 
## ---------------------------------------------------- 
## iris$Species: virginica
## 
## 	Shapiro-Wilk normality test
## 
## data:  dd[x, ]
## W = 0.97118, p-value = 0.2583</code></pre></figure>

<hr />

<h2 id="testing-for-homogeneity-of-variance">Testing for homogeneity of variance</h2>

<p>Variance in each population is equal</p>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-20-1.png" alt="plot of chunk unnamed-chunk-20" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">car</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">leveneTest</span><span class="p">(</span><span class="n">Sepal.Width</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Levene's Test for Homogeneity of Variance (center = median)
##        Df F value Pr(&gt;F)
## group   2  0.5902 0.5555
##       147</code></pre></figure>

<hr />

<p>Variance in each population is not equal</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Species</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">Petal.Width</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_boxplot</span><span class="p">()</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-23-1.png" alt="plot of chunk unnamed-chunk-23" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">leveneTest</span><span class="p">(</span><span class="n">Petal.Width</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Species</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">iris</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Levene's Test for Homogeneity of Variance (center = median)
##        Df F value        Pr(&gt;F)    
## group   2  19.892 0.00000002261 ***
##       147                          
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre></figure>

<hr />

<h2 id="correlation">Correlation</h2>

<p>Standardized covariance
<script type="math/tex">r = \frac{cov_{xy}}{s_{x}s_{y}}</script></p>

<hr />

<h2 id="correlation-in-r">Correlation in r</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">cor.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"pearson"</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## 
## 	Pearson's product-moment correlation
## 
## data:  iris$Petal.Length and iris$Petal.Width
## t = 43.387, df = 148, p-value &lt; 0.00000000000000022
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  0.9490525 0.9729853
## sample estimates:
##       cor 
## 0.9628654</code></pre></figure>

<hr />

<h3 id="plotting-the-correlation-and-line-of-best-fit">Plotting the correlation and line of best fit</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">ggplot</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"lm"</span><span class="p">,</span><span class="w"> </span><span class="n">se</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-27-tutorial-2-assumptions-cor/unnamed-chunk-25-1.png" alt="plot of chunk unnamed-chunk-25" /></p>

<hr />

<h2 id="partial-semi-partial-non-parametric">Partial, Semi-Partial, Non-parametric</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggm</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">cor</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Sepal.Length</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 0.8717538</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">pcor</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s2">"Petal.Length"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Sepal.Length"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Petal.Width"</span><span class="p">),</span><span class="w"> </span><span class="n">var</span><span class="p">(</span><span class="n">iris</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 0.5420163</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">cor.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="o">=</span><span class="s2">"spearman"</span><span class="p">)</span><span class="w">
</span><span class="n">cor.test</span><span class="p">(</span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Length</span><span class="p">,</span><span class="w"> </span><span class="n">iris</span><span class="o">$</span><span class="n">Petal.Width</span><span class="p">,</span><span class="w"> </span><span class="n">method</span><span class="o">=</span><span class="s2">"kendall"</span><span class="p">)</span></code></pre></figure>

<hr />

<h2 id="references">References</h2>

<p>Field A, Miles J, Field Z. Discovering Statistics Using R. London: Sage; 2012.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/R-Tutorials-1//2016/09/15/tutorial-1-intro-to-r.html">
        Tutorial 1 - Introduction to R
      </a>
    </h1>
    
<a href="/R-Tutorials-1/2016/09/15/tutorial-1-intro-to-r.html#disqus_thread"
    class = "commentcount"></a>
    
    <span class="post-date">15 Sep 2016</span>

    <p>— .intro-slide</p>

<h2 id="introduction-to-r">Introduction to R</h2>

<p><strong>Jenna Blumenthal</strong><br />
   MIE 1402</p>

<hr />

<h2 id="what-is-r">What is R?</h2>

<ul>
  <li>Language &amp; environment for statistical computing</li>
  <li>Widely used by statisticians, data miners</li>
  <li>Popular among academics &amp; industry</li>
</ul>

<hr />

<h2 id="what-is-it-used-for">What is it used for?</h2>

<ul>
  <li>Data handling, organizing</li>
  <li>Basic mathematical operations</li>
  <li>Linear, nonlinear modeling, classical stats tests, time-series analysis, classification, clustering, etc</li>
  <li>Publication-quality graphics</li>
</ul>

<hr />

<h2 id="what-makes-r-so-great">What makes R so great?</h2>

<ul>
  <li>Open source (i.e. free)</li>
  <li>Highly extensible (user-submitted <strong>packages</strong>)
    <ul>
      <li>Functions available for very specific areas</li>
    </ul>
  </li>
  <li>Excellent documentation</li>
  <li>Great graphics
    <ul>
      <li>Publication-quality graphs (<code class="highlighter-rouge">ggplot2</code>)</li>
      <li>RMarkdown, LaTeX (write reports without copying and pasting)</li>
      <li>Shiny (interative data visualizations, etc.)</li>
    </ul>
  </li>
  <li>Reproducible analysis</li>
</ul>

<hr />

<h2 id="what-are-some-other-options">What are some other options?</h2>

<ul>
  <li>SAS, SPSS, Stata, MATLAB, etc…</li>
  <li>Not so free</li>
  <li>Not so open-source (meaning there is a smaller community to help when you get stuck)</li>
</ul>

<hr />

<h2 id="getting-set-up">Getting set up</h2>

<h3 id="what-youll-need">What you’ll need</h3>

<p>R: <a href="http://www.r-project.org/">http://www.r-project.org/</a></p>

<h3 id="what-youll-want">What you’ll want</h3>
<p>RStudio (highly recommended GUI): <a href="https://www.rstudio.com/">https://www.rstudio.com/</a></p>

<p>LaTeX (good for report-writing): <a href="https://www.latex-project.org/">https://www.latex-project.org/</a></p>

<p>Git (good for version control): <a href="https://git-scm.com/downloads">https://git-scm.com/downloads</a></p>

<hr />

<h2 id="rstudio">RStudio</h2>

<p><img src="../../../../R-Tutorials-1/assets/img/RStudio_screenshot.png" alt="" /></p>

<hr />

<h3 id="console">Console</h3>
<ul>
  <li>Command-line interface</li>
  <li>Type after the <code class="highlighter-rouge">&gt;</code> prompt and R will execute your command</li>
  <li>This is where R does the stuff</li>
</ul>

<h3 id="editor">Editor</h3>
<ul>
  <li>Collection of commands can be edited and saved</li>
  <li><code class="highlighter-rouge">File --&gt; New | File --&gt; Open --&gt; R Script</code></li>
</ul>

<h3 id="environment">Environment</h3>
<ul>
  <li>What data/values R has in its memory</li>
  <li>Good for viewing complex objects</li>
</ul>

<h3 id="files-packages-docs-views">Files, packages, docs, views</h3>
<ul>
  <li>Browse directory, open files, install/load packages, look at documentation (for help), preview graphs, etc.</li>
</ul>

<hr />

<h2 id="getting-started">Getting started</h2>

<p>Before you start being a stats wizard…get organized.</p>

<hr />

<h3 id="working-directory">1. Working directory</h3>

<ul>
  <li>The folder you are currently in</li>
  <li>If you ask R to retrieve a certain file, it will look in the working directory (unless another path is given)</li>
  <li>If you save a file from R, it will save in your working directory (ditto)</li>
  <li>Be careful, sometimes you think you are in the correct wd, but you are not. Double check using:</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">getwd</span><span class="p">()</span></code></pre></figure>

<p>You can change the working directory using</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">setwd</span><span class="p">(</span><span class="s2">"Desktop/ExperimentalMethods/RTutorials"</span><span class="p">)</span></code></pre></figure>

<hr />

<h3 id="install-packagesload-libraries">2. Install packages/load libraries</h3>

<ul>
  <li>The core of what makes R great</li>
  <li>Some useful ones come preloaded, but there are many more</li>
  <li>Andy Field will reference the ones he uses in the textbook</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"package-name"</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">package</span><span class="o">-</span><span class="n">name</span><span class="p">)</span></code></pre></figure>

<h4 id="notes">Notes</h4>

<ul>
  <li>The first one uses quotes, the second doesn’t. Don’t ask me why.</li>
  <li>Often you figure out you don’t have a package by getting an error.</li>
  <li>Check to see what packages you have installed using</li>
</ul>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">()</span></code></pre></figure>

<ul>
  <li>You only have to <strong>install</strong> the package once, but you need to <strong>load</strong> the package every time you set up a new environment.</li>
</ul>

<hr />

<h2 id="some-basic-examples">Some basic examples</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="m">1+1</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 2</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">4</span><span class="w">
</span><span class="n">a</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 4</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">fruit</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"apples"</span><span class="p">,</span><span class="w"> </span><span class="s2">"pears"</span><span class="p">,</span><span class="w"> </span><span class="s2">"strawberries"</span><span class="p">)</span></code></pre></figure>

<hr />

<h2 id="data">Data</h2>

<p>There are several ways to import data into your R environment:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># Built into R
</span><span class="n">read.csv</span><span class="p">()</span><span class="w">
</span><span class="n">read.delim</span><span class="p">()</span><span class="w">
</span><span class="n">read.table</span><span class="p">()</span><span class="w">

</span><span class="c1"># rio package
</span><span class="n">library</span><span class="p">(</span><span class="n">rio</span><span class="p">)</span><span class="w">
</span><span class="n">import</span><span class="p">()</span><span class="w">

</span><span class="c1"># Base datasets (often used in examples)
</span><span class="n">library</span><span class="p">(</span><span class="n">datasets</span><span class="p">)</span><span class="w">
</span><span class="n">mtcars</span></code></pre></figure>

<hr />

<h2 id="viewing--summarizing-etc">Viewing , summarizing, etc</h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mtcars</span><span class="w">
</span><span class="n">View</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span><span class="w">
</span><span class="n">head</span><span class="p">(</span><span class="n">mtcars</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mtcars</span><span class="p">[</span><span class="m">1</span><span class="p">,]</span><span class="w">
</span><span class="n">mtcars</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w">
</span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">beacause</span><span class="w"> </span><span class="n">mtcars</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dataframe</span><span class="o">!</span></code></pre></figure>

<hr />

<h3 id="what-is-a-dataframe">What is a dataframe?</h3>

<p>Sort of like a spreadsheet in Excel, except more fun.
- header contains column names
- note, most functions like to work with dataframes, but others like matrices
- Similar, but different object type
- can generally coerce using</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">as.data.frame</span><span class="p">()</span><span class="w">
</span><span class="n">as.matrix</span><span class="p">()</span></code></pre></figure>

<hr />

<h3 id="diy-dataframe">DIY Dataframe</h3>

<p>Note, I rarely do this. Likely you will be pulling data from another source.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">metallicaNames</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Lars"</span><span class="p">,</span><span class="w"> </span><span class="s2">"James"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Kirk"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Rob"</span><span class="p">)</span><span class="w">
</span><span class="n">metallicaAges</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">47</span><span class="p">,</span><span class="w"> </span><span class="m">47</span><span class="p">,</span><span class="w"> </span><span class="m">48</span><span class="p">,</span><span class="w"> </span><span class="m">46</span><span class="p">)</span><span class="w">
</span><span class="n">metallica_data</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">Name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">metallicaNames</span><span class="p">,</span><span class="w"> </span><span class="n">Age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">metallicaAges</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">metallica_data</span><span class="o">$</span><span class="n">Age</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 47 47 48 46</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mean</span><span class="p">(</span><span class="n">metallica_data</span><span class="o">$</span><span class="n">Age</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 47</code></pre></figure>

<hr />

<h3 id="subsetting-data">Subsetting data</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">metallica_data</span><span class="o">$</span><span class="n">Age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">47</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1]  TRUE  TRUE  TRUE FALSE</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">older_band_members</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">metallica_data</span><span class="p">[</span><span class="n">metallica_data</span><span class="o">$</span><span class="n">Age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">47</span><span class="p">,]</span><span class="w">

</span><span class="c1"># OR use subset (a bit more intuitive)
</span><span class="n">older_band_members</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">metallica_data</span><span class="p">,</span><span class="w"> </span><span class="n">Age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">47</span><span class="p">)</span></code></pre></figure>

<hr />

<h2 id="r-commander">R Commander</h2>

<ul>
  <li>GUI interface</li>
  <li>If you are an SPSS user, it may feel more familiar</li>
  <li>I don’t like it (it used to crash my computer)</li>
</ul>

<hr />

<h2 id="saving">Saving</h2>

<p>If you did some data manipulation and would like to save it as a new file:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">write.table</span><span class="p">()</span><span class="w">
</span><span class="n">write.csv</span><span class="p">(</span><span class="n">metallica_data</span><span class="p">,</span><span class="w"> </span><span class="s2">"MetallicaData.csv"</span><span class="p">)</span><span class="w"> </span><span class="err">#</span><span class="w"> </span><span class="n">note</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">wd</span></code></pre></figure>

<p>Save the R file, <strong>DON’T</strong> save the R workspace</p>

<p>Can also make a <code class="highlighter-rouge">project</code> - helpful for saving the working directory, dataframes, etc.</p>

<hr />

<h2 id="brief-introduction-to-graphs-and-ggplot2">Brief introduction to graphs and <code class="highlighter-rouge">ggplot2</code></h2>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">hist</span><span class="p">(</span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-15-tutorial-1-intro-to-r/unnamed-chunk-16-1.png" alt="plot of chunk unnamed-chunk-16" /></p>

<hr />

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="p">(</span><span class="n">mtcars</span><span class="o">$</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">mtcars</span><span class="o">$</span><span class="n">disp</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-15-tutorial-1-intro-to-r/unnamed-chunk-17-1.png" alt="plot of chunk unnamed-chunk-17" /></p>

<hr />

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">install.packages</span><span class="p">(</span><span class="s2">"ggplot2"</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Warning: package 'ggplot2' was built under R version 3.2.4</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mtcars</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">mpg</span><span class="p">,</span><span class="w"> </span><span class="n">disp</span><span class="p">))</span><span class="w">
</span><span class="n">plot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-15-tutorial-1-intro-to-r/unnamed-chunk-20-1.png" alt="plot of chunk unnamed-chunk-20" /></p>

<hr />

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">plot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">geom_point</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">ggtitle</span><span class="p">(</span><span class="s2">"This is my awesome graph"</span><span class="p">)</span></code></pre></figure>

<p><img src="/R-Tutorials-1/figure/source/2016-09-15-tutorial-1-intro-to-r/unnamed-chunk-21-1.png" alt="plot of chunk unnamed-chunk-21" /></p>

<p>Note that the <code class="highlighter-rouge">plot</code> object isn’t updating unless it is reassigned</p>

<p>Read Ch 4 for some more examples.</p>

<hr />
<p>## R Markdown</p>

<ul>
  <li>instead of C+P-ing everything</li>
  <li>Write your report, generate results, insert graphs, etc. all in the same file</li>
  <li>A few hours of learning will save LOTS of time</li>
  <li>Turn your analyses into:
    <ul>
      <li>PDF</li>
      <li>Word</li>
      <li>Slides</li>
      <li>HTML (like me!)</li>
      <li>Interactive dashboard</li>
    </ul>
  </li>
  <li>File –&gt; New –&gt; R Markdown (.Rmd file)</li>
  <li>To generate PDF files, you’ll need LaTeX
    <ul>
      <li>Mac: http://www.tug.org/mactex/</li>
      <li>Windows: http://miktex.org/</li>
    </ul>
  </li>
  <li>We will go into syntax, etc in a future tutorial</li>
</ul>

<hr />

<h2 id="more-resources">More resources</h2>

<ul>
  <li>Datacamp: datacamp.com/courses/free-introduction-to-r</li>
  <li>R Markdown: http://rmarkdown.rstudio.com/lesson-1.html</li>
  <li>The textbook is great</li>
</ul>

<hr />

<h2 id="references">References</h2>

<p>Wikipedia:
<a href="https://en.wikipedia.org/wiki/R_(programming_language)">https://en.wikipedia.org/wiki/R_(programming_language)</a></p>

<p>A (very) short introduction to R: 
<a href="https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf">https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf</a></p>

<p>Field A, Miles J, Field Z. Discovering Statistics Using R. London: Sage; 2012.</p>

<hr />


  </div>
  
</div>

    </div>

  </body>
</html>
